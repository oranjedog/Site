<div ng-controller="headerCtrl">

<ul class="nav nav-pills navbar-static-top visible-xs">
    <li><a href="#"><i class="icon-eye-open icon-2x"></i></a></li>
    <li>
        <a href="#" onclick="return false;" ng-click="goto('/stream/{{userAlias}}')"><i
                class="icon-bullhorn icon-2x"></i></a></li>
    <li>
        <a href="#" onclick="return false;" ng-click="goto('/interest')"><i class="icon-question-sign icon-2x"></i></a>
    </li>
    <li>
        <a class="dropdown-toggle" data-toggle="dropdown">
            <i class="icon-chevron-down"></i>
        </a>
        <ul class="dropdown-menu" role="menu">
            <li role="presentation"
                style="border-left-width: 1px;border-left-style: solid;border-left-color: rgba(0, 0, 0, 0.498039);">
                <a role="menuitem" tabindex="-1"
                   href="#" onclick="return false;" ng-click="goto('/profile')"><i class="icon-cog"></i> 个人设置</a>
            </li>
            <li role="presentation" class="hidden-xs"><a role="menuitem" tabindex="-1" href="#"
                                                         onclick="return false;"
                                                         ng-click="goto('/upload')"><i
                    class="icon-cloud-upload"></i> 录制音乐</a>
            </li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="#" onclick="return false;"
                                       ng-click="logout()"><i class="icon-signout"></i> 退出登陆</a></li>
        </ul>
    </li>
</ul>

<ul class="nav nav-pills navbar-fixed-bottom navbar-inverse visible-xs" style="height: 45px">
    <li><a href="#" onclick="return false;">
        <i style="cursor:pointer;"
           class='sound_player_button  icon-2x'
           ng-class="wooicePlayer.getCurSound().isPlaying? 'icon-pause': 'icon-play'"
           ng-click="togglePause()"></i></a></li>
    <li ng-show="wooicePlayer.getCurSound().id">
        <a href="{{wooicePlayer.getCurSound().title.route}}">{{wooicePlayer.getCurSound().title.alias}}</a>
    </li>
    <li class="pull-right">
        <a class="playlist" ng-click="showPlaylist=!showPlaylist"><i class="icon-th-list icon-2x" title="播放列表"></i></a>

        <div style="position : absolute;bottom: 100%;background-color: #333;margin-left: -160px;
            -moz-border-radius-topleft:7px;-webkit-border-top-left-radius: 7px;-moz-border-radius-topright:7px;-webkit-border-top-right-radius: 7px;">
            <div ng-show="showPlaylist" style="height: 230px;width: 220px;overflow: auto;">
                <div style="padding-top: 5px">
                        <span style="padding-left: 15px">
                        <a href="#" onclick="return false;" title="上一首">
                            <i style="cursor:pointer;" class='icon-step-backward'
                               ng-click="playPre()"></i></a>
                         </span>
                      <span style="padding-left:20px">
                        <a href="#" onclick="return false;" title="{{playModes[playMode]}}"
                           ng-click="changePlayStyle()">
                            <i style="cursor:pointer;color:#2A6496" class='icon-list-ol' ng-show="playMode == 0"></i>
                            <i style="cursor:pointer;color:#2A6496" class='icon-exchange' ng-show="playMode == 1"></i>
                            <i style="cursor:pointer;color:#2A6496" class='icon-random' ng-show="playMode == 2"></i>
                            <i style="cursor:pointer;color:#2A6496" class='icon-minus-sign-alt'
                               ng-show="playMode == 3"></i>
                        </a>
                    </span>
                    <span style="color: white;font-weight: bold;">播放列表({{playList.list().length}})</span>
                        <span style="padding-right: 15px;padding-left: 30px">
                        <a href="#" onclick="return false;" title="下一首"><i
                                style="cursor:pointer;"
                                class='icon-step-forward' ng-click="playNext()"></i></a>
                            </span>
                </div>
                <hr style="margin: 5px">
                <div ng-repeat="sound in playList.list()" style="width: 100%;">
                        <span style="padding-left: 10px;padding-right: 10px" class="pull-left">
                            <i style="cursor:pointer;color: white"
                               class="sound_player_button {{sound.isPlaying?'icon-pause': 'icon-play-circle'}}"
                               ng-click="togglePauseList(sound.id)"></i>
                        </span>
                        <span style="width: 135px;white-space: nowrap;/* text-overflow: ellipsis; */overflow: hidden;display: inline-block;">
                            <marquee scrollamount="{{sound.isPlaying? 3: 0}}"  >
                                <a href="{{sound.title.route}}" style="width: 100%;">{{sound.title.alias}} -
                                    {{sound.owner.alias}}</a>
                            </marquee>
                        </span>
                        <span class="pull-right" style="padding-right: 10px;">
                               <a onclick="return false;"  ng-click="removeSoundFromPlaylist(sound)">
                                   <i class="icon-remove" style="color: white"></i></a>
                         </span>
                </div>
                <div ng-show="playList.list().length==0">
                    <span style="color: #428bca;padding-left: 25px">您还没有添加任何歌曲</span>
                </div>
            </div>
        </div>
    </li>
</ul>

<nav class="navbar navbar-inverse navbar-static-top hidden-xs" role="navigation">
    <div class="navbar-header">
        <a class="navbar-brand" style="padding: 0px;width: 50px;height: 50px" href="#" title="Wooice">
            <img class="img-responsive" ng-src="img/logo.jpg"/>
        </a>
    </div>
    <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <li><a href="#" title="你关注的声音推送"><i class="icon-eye-open"></i></a></li>
            <li>
                <a href="#" onclick="return false;" ng-click="goto('/stream/{{userAlias}}')" title="你的声音"><i
                        class="icon-bullhorn"></i></a></li>
            <li>
                <a href="#" onclick="return false;" ng-click="goto('/interest')" title="发现你感兴趣的声音"><i
                        class="icon-question-sign"></i></a>
            </li>
        </ul>

        <form class="navbar-form navbar-left" role="search" style="padding-left: 40px">
            <div class="form-group">
                <input type="text" id="search_box" class="form-control" ng-model="q" placeholder="寻找一段声音...">
            </div>
        </form>

        <ul class="nav navbar-nav navbar-right">
            <li><a href="#" onclick="return false;">
                <i style="cursor:pointer;color:#e5e5e5"
                   class='sound_player_button'
                   ng-class="wooicePlayer.getCurSound().isPlaying? 'icon-pause': 'icon-play'"
                   ng-click="togglePause()"></i></a></li>
            <li ng-show="wooicePlayer.getCurSound().id">
                <a href="{{wooicePlayer.getCurSound().title.route}}">{{wooicePlayer.getCurSound().title.alias}}</a>
            </li>
            <li><a href="#" onclick="return false;" title="下一首"><i
                    style="cursor:pointer;color:#e5e5e5"
                    class='icon-step-forward' ng-click="playNext()"></i></a>
            </li>
            <li><a href="#" onclick="return false;" title="{{playModes[playMode]}}"
                   ng-click="changePlayStyle()">
                <i style="cursor:pointer;color:#e5e5e5" class='icon-list-ol' ng-show="playMode == 0"></i>
                <i style="cursor:pointer;color:#e5e5e5" class='icon-exchange' ng-show="playMode == 1"></i>
                <i style="cursor:pointer;color:#e5e5e5" class='icon-random' ng-show="playMode == 2"></i>
                <i style="cursor:pointer;color:#e5e5e5" class='icon-minus-sign-alt' ng-show="playMode == 3"></i>
            </a>
            </li>
            <li style="padding-right: 40px">
                <a class="playlist" ng-click="showPlaylist=!showPlaylist"><i class="icon-th-list" title="播放列表"></i></a>

                <div style="position : absolute;background-color: #333;margin-left: -65px;
                -moz-border-radius-bottomleft:7px;-webkit-border-bottom-left-radius: 7px;-moz-border-radius-bottomright:7px;-webkit-border-bottom-right-radius: 7px;">
                    <div ng-show="showPlaylist" style="padding-top: 5px;height: 230px;width: 220px;overflow: auto;">
                        <span style="padding-left:60px;color: white;font-weight: bold;">播放列表({{playList.list().length}})</span>
                        <hr style="margin: 5px">
                        <div ng-repeat="sound in playList.list()" style="width: 100%;">
                            <span style="padding-left: 10px;padding-right: 10px" class="pull-left">
                                <i style="cursor:pointer;color: white"
                                   class="sound_player_button {{sound.isPlaying?'icon-pause': 'icon-play-circle'}}"
                                   ng-click="togglePauseList(sound.id)"></i>
                            </span>
                            <span style="width: 135px;white-space: nowrap;/* text-overflow: ellipsis; */overflow: hidden;display: inline-block;">
                                <marquee scrollamount="{{sound.isPlaying? 3: 0}}"  >
                                    <a href="{{sound.title.route}}" style="width: 100%;">{{sound.title.alias}} -
                                        {{sound.owner.alias}}</a>
                                 </marquee>
                            </span>
                             <span class="pull-right" style="padding-right: 10px;padding-left: 5px">
                                   <a onclick="return false;" ng-click="removeSoundFromPlaylist(sound)"><i
                                           class="icon-remove" style="color: white"></i></a>
                             </span>
                        </div>
                        <div ng-show="playList.list().length==0">
                            <span style="color: #428bca;padding-left: 25px">您还没有添加任何歌曲</span>
                        </div>
                    </div>
                </div>
            </li>
            <li style="border-left-width: 1px;border-left-style: solid;border-left-color: rgba(0, 0, 0, 0.498039);">
                <a title="个人配置"
                   href="#" onclick="return false;" ng-click="goto('/profile')"><i class="icon-cog"></i></a>
            </li>
            <li style="padding-right: 90px"><a href="#" onclick="return false;" ng-click="goto('/upload')"
                                               title="声音上传"><i
                    class="icon-cloud-upload"></i></a>
            </li>
            <li><a href="#feedback" onclick="return false;" data-toggle="modal" title="意见反馈"><i
                    class="icon-edit"></i></a></li>
            <li style="padding-right: 10px"><a href="#" onclick="return false;" ng-click="logout()"><i
                    class="icon-signout" title="退出登录"></i></a></li>
        </ul>
    </div>
</nav>

<div id="feedback" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <form name="feedback" style="margin-bottom: 0px">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <b id="myModalLabel" style="font-size: 21px">意见反馈</b>
                </div>
                <div class="modal-body" style="padding-left: 40px">
                    <div>
                        <label>功能</label>
                        <input ng-model="feedback.function" class="form-control">
                    </div>

                    <div style="padding-top: 10px">
                        <div class="text-warning"
                             ng-show="feedback.feedback_content.$dirty && feedback.feedback_content.$invalid">
                            <small class="text-warning"
                                   ng-show="feedback.feedback_content.$error.minlength">
                                为了保证反馈内容清晰完整，请至少填写15个字符
                            </small>
                        </div>
                        <label>改善意见</label>
                        <textarea ng-model="feedback_content" name="feedback_content" required rows="8"
                                  class="form-control"
                                  ng-minlength=15></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
                    <button class="btn btn-primary" ng-click="sendFeedback()" ng-disabled="feedback.$invalid">保存
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
</div>
